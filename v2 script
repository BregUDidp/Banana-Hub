-- ‡πÇ‡∏´‡∏•‡∏î Obsidian UI (Linoria-based)
local repo = "https://raw.githubusercontent.com/deividcomsono/Obsidian/main/"
local Library = loadstring(game:HttpGet(repo .. "Library.lua"))()
local ThemeManager = loadstring(game:HttpGet(repo .. "addons/ThemeManager.lua"))()
local SaveManager = loadstring(game:HttpGet(repo .. "addons/SaveManager.lua"))()

Library.ForceCheckbox = false
Library.ShowToggleFrameInKeybinds = true

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å
local Window = Library:CreateWindow({
    Title = "Akari Hub",
    Footer = "Akari Hub",
    Icon = "webhook",
    NotifySide = "Right",
    ShowCustomCursor = false,
})

-- Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å
local Character, HumanoidRootPart, Humanoid

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏µ‡∏™‡∏õ‡∏≤‡∏ß‡∏ô‡πå
LocalPlayer.CharacterAdded:Connect(function(char)
    Character = char
    HumanoidRootPart = char:WaitForChild("HumanoidRootPart")
    Humanoid = char:WaitForChild("Humanoid")
end)

-- ‡∏£‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
if LocalPlayer.Character then
    Character = LocalPlayer.Character
    HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")
    Humanoid = Character:WaitForChild("Humanoid")
else
    Character = LocalPlayer.CharacterAdded:Wait()
    HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")
    Humanoid = Character:WaitForChild("Humanoid")
end

-- ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ß‡∏≤‡∏õ (‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏£‡∏¥‡∏á)
local Positions = {
    Stronghold = Vector3.new(1500, 50, 1200),
    Campfire = Vector3.new(0, 10, 0),
    Traders = Vector3.new(-500, 20, 300)
}

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏õ
local function teleportTo(pos, name)
    if HumanoidRootPart then
        HumanoidRootPart.CFrame = CFrame.new(pos)
        Library:Notify({
            Title = "‡∏ß‡∏≤‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à [‚úÖ]",
            Content = "Teleported to " .. name .. "!",
            Duration = 3
        })
    else
        Library:Notify({
            Title = "Error",
            Content = "Character not loaded!",
            Duration = 3
        })
    end
end

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏ô
local flying = false
local flySpeed = 50
local vv, gyro

-- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏¥‡∏ô
local function startFlying()
    if flying then return end
    flying = true
    Humanoid.PlatformStand = true

    vv = Instance.new("BodyVelocity")
    vv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
    vv.P = 1250
    vv.Velocity = Vector3.zero
    vv.Parent = HumanoidRootPart

    gyro = Instance.new("BodyGyro")
    gyro.MaxTorque = Vector3.new(4e5, 4e5, 4e5)
    gyro.P = 3000
    gyro.CFrame = HumanoidRootPart.CFrame
    gyro.Parent = HumanoidRootPart

    Library:Notify({
        Title = "‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏¥‡∏ô‡πÄ‡∏õ‡∏¥‡∏î!",
        Content = "‡πÉ‡∏ä‡πâ W,A,S,D,Space,Ctrl ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°",
        Duration = 3
    })
end

-- ‡∏´‡∏¢‡∏∏‡∏î‡∏ö‡∏¥‡∏ô
local function stopFlying()
    if not flying then return end
    flying = false
    if vv then vv:Destroy() vv = nil end
    if gyro then gyro:Destroy() gyro = nil end
    Humanoid.PlatformStand = false

    Library:Notify({
        Title = "‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏¥‡∏ô‡∏õ‡∏¥‡∏î",
        Content = "‡∏•‡∏á‡∏à‡∏≠‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
        Duration = 3
    })
end

-- ‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß
local superSpeed = false
local runSpeed = 32

local function toggleSpeed(on)
    superSpeed = on
    Humanoid.WalkSpeed = superSpeed and runSpeed or 16
    Library:Notify({
        Title = superSpeed and "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß ‚úÖ" or "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß üõë",
        Content = superSpeed and "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î‡∏Ç‡∏µ‡∏î!" or "‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥",
        Duration = 3
    })
end

-- ‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô
local invis_on = false
local sound = Instance.new("Sound")
sound.SoundId = "rbxassetid://942127495"
sound.Volume = 1
sound.Parent = LocalPlayer:WaitForChild("PlayerGui")

local function setTransparency(character, transparency)
    for _, part in pairs(character:GetDescendants()) do
        if part:IsA("BasePart") or part:IsA("Decal") then
            part.Transparency = transparency
        end
    end
end

local function toggleInvisibility()
    invis_on = not invis_on
    sound:Play()

    if invis_on then
        local root = HumanoidRootPart
        local savedpos = root.CFrame
        task.wait()
        root.CFrame = CFrame.new(-25.95, 84, 3537.55)
        task.wait(0.15)

        local Seat = Instance.new("Seat", Workspace)
        Seat.Anchored = false
        Seat.CanCollide = false
        Seat.Name = "invischair"
        Seat.Transparency = 1
        Seat.Position = Vector3.new(-25.95, 84, 3537.55)

        local Weld = Instance.new("Weld", Seat)
        Weld.Part0 = Seat
        Weld.Part1 = Character:FindFirstChild("Torso") or Character:FindFirstChild("UpperTorso")

        task.wait()
        Seat.CFrame = savedpos
        setTransparency(Character, 0.5)

        Library:Notify({
            Title = "‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô [ ‚úÖ ]",
            Text = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô üëª",
            Duration = 3
        })
    else
        local invisChair = Workspace:FindFirstChild("invischair")
        if invisChair then invisChair:Destroy() end
        setTransparency(Character, 0)
        Library:Notify({
            Title = "‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô [ üõë ]",
            Text = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏Ñ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥",
            Duration = 3
        })
    end
end

-- ‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏î X
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.X then
        toggleInvisibility()
    end
end)

-- Noclip & Inf Jump
local noclipEnabled = false
local infJumpEnabled = false

RunService.Stepped:Connect(function()
    if noclipEnabled and Character then
        for _, part in pairs(Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

UserInputService.JumpRequest:Connect(function()
    if infJumpEnabled and Humanoid then
        Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- ‡∏•‡∏π‡∏õ‡∏ö‡∏¥‡∏ô
RunService.RenderStepped:Connect(function()
    if flying and vv and gyro and HumanoidRootPart and Humanoid then
        local cam = workspace.CurrentCamera
        if not cam then return end

        local flatForward = Vector3.new(cam.CFrame.LookVector.X, 0, cam.CFrame.LookVector.Z)
        local forward = flatForward.Magnitude > 0 and flatForward.Unit or Vector3.zero
        local right = Vector3.new(cam.CFrame.RightVector.X, 0, cam.CFrame.RightVector.Z)
        if right.Magnitude > 0 then right = right.Unit end

        local moveVec = Vector3.zero
        if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveVec += Vector3.new(0, 0, 1) end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveVec += Vector3.new(0, 0, -1) end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveVec += Vector3.new(-1, 0, 0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveVec += Vector3.new(1, 0, 0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveVec += Vector3.new(0, 1, 0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then moveVec += Vector3.new(0, -1, 0) end

        local desired = forward * moveVec.Z + right * moveVec.X + Vector3.new(0, moveVec.Y, 0)
        if desired.Magnitude > 0 then desired = desired.Unit * flySpeed end

        vv.Velocity = desired
        if desired.Magnitude > 1 then
            local flatDir = Vector3.new(desired.X, 0, desired.Z)
            if flatDir.Magnitude > 0 then
                gyro.CFrame = CFrame.new(HumanoidRootPart.Position, HumanoidRootPart.Position + flatDir)
            end
        end
    end
end)

-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏¢
LocalPlayer.CharacterAdded:Connect(function(c)
    Character = c
    HumanoidRootPart = c:WaitForChild("HumanoidRootPart")
    Humanoid = c:WaitForChild("Humanoid")
    stopFlying()
    toggleSpeed(false)
    noclipEnabled = false
    infJumpEnabled = false
end)

-- === UI Tabs ===
local Tabs = {
    Main = Window:AddTab("[ üå≤ ] ‡πÇ‡∏ã‡∏ô 99 ‡∏Ñ‡∏∑‡∏ô", "tree-pine"),
    Player = Window:AddTab("[ üë± ] ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£", "contact"),
    Friends = Window:AddTab("[ üì± ] ‡πÇ‡∏ã‡∏ô ‡∏ß‡∏≤‡∏õ", "door-open"),
}

-- === Tab: 99 ‡∏Ñ‡∏∑‡∏ô ===
local LeftGroup1 = Tabs.Main:AddLeftGroupbox("[ üå≤ ] ‡πÇ‡∏ã‡∏ô‡∏≠‡∏°‡∏ï‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏õ")

LeftGroup1:AddButton({
    Text = "[ ‚õ∫ ] ‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡πÅ‡∏Ñ‡∏°‡πÑ‡∏ü",
    Func = function() teleportTo(Positions.Campfire, "Campfire") end
})

LeftGroup1:AddButton({
    Text = "[ üíñ ] ‡∏£‡∏±‡∏ô ‡∏≠‡∏°‡∏ï‡∏∞",
    Func = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/BregUDidp/Banana-Hub/refs/heads/main/god%20mode"))() end
})

local LeftGroup2 = Tabs.Main:AddLeftGroupbox("[ üå≤ ] 99 Night Forest")

LeftGroup2:AddButton({ Text = "[ üí£ ] ‡∏£‡∏±‡∏ô Somtank Hub", Func = function() loadstring(game:HttpGet('https://raw.githubusercontent.com/MQPS7/99-Night-in-the-Forset/refs/heads/main/99Nightv1'))() end })
LeftGroup2:AddButton({ Text = "[ ü¶ä ] ‡∏£‡∏±‡∏ô FoxName Hub", Func = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/caomod2077/Script/refs/heads/main/FoxnameHub.lua"))() end })
LeftGroup2:AddButton({ Text = "[ üü£ ] ‡∏£‡∏±‡∏ô RaBade Hub", Func = function() loadstring(game:HttpGet("https://pastebin.com/raw/RZK9XdtH"))() end })

local LeftGroup3 = Tabs.Main:AddLeftGroupbox("[ üå≤ ] ‡πÇ‡∏ã‡∏ô‡∏î‡∏∂‡∏á‡∏Ç‡∏≠‡∏á")

LeftGroup3:AddButton({ Text = "[ üî• ] ‡πÄ‡∏ï‡∏¥‡∏°‡πÅ‡∏Ñ‡∏°‡πÑ‡∏ü", Func = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/BregUDidp/Banana-Hub/refs/heads/main/bring%20campfire"))() end })
LeftGroup3:AddButton({ Text = "[ üìõ ] ‡∏î‡∏∂‡∏á‡∏ú‡πâ‡∏≤‡∏û‡∏±‡∏ô‡πÅ‡∏ú‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£", Func = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/BregUDidp/Banana-Hub/refs/heads/main/item%20badge"))() end })
LeftGroup3:AddButton({ Text = "[ üå≤ ] ‡∏î‡∏∂‡∏á‡πÑ‡∏°‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£", Func = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/BregUDidp/Banana-Hub/refs/heads/main/item%20wood"))() end })
LeftGroup3:AddButton({ Text = "[ üî© ] ‡∏î‡∏∂‡∏á‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£", Func = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/getiron"))() end })
LeftGroup3:AddButton({ Text = "[ ü•ß ] ‡∏î‡∏∂‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£", Func = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/BregUDidp/Banana-Hub/refs/heads/main/item%20cook"))() end })

-- === Tab: Player ===
local PlayerLeft = Tabs.Player:AddLeftGroupbox("[üõ∏] ‡πÇ‡∏ã‡∏ô‡∏ö‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ö‡∏¥‡∏ô")

local flyToggle = PlayerLeft:AddToggle("FlyToggle", { Text = "üõ∏ ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô", Default = false })
flyToggle:OnChanged(function(val) if val then startFlying() else stopFlying() end end)

PlayerLeft:AddSlider("FlySpeed", { Text = "üìè ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ö‡∏¥‡∏ô", Min = 1, Max = 1000, Default = 50, Suffix = " Speed" })
PlayerLeft:AddSlider("FlySpeed", { Callback = function(val) flySpeed = val end })

local PlayerLeft = Tabs.Player:AddLeftGroupbox("[üèÉ‚Äç‚ôÄÔ∏è] ‡πÇ‡∏ã‡∏ô‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß")

local speedToggle = PlayerLeft:AddToggle("SpeedToggle", { Text = "üèÉ‚Äç‚ôÄÔ∏è ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß", Default = false })
speedToggle:OnChanged(function(val) toggleSpeed(val) end)

PlayerLeft:AddSlider("RunSpeed", { Text = "üìè ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á", Min = 1, Max = 1000, Default = 32, Suffix = " Speed" })
PlayerLeft:AddSlider("RunSpeed", { Callback = function(val) runSpeed = val if superSpeed then Humanoid.WalkSpeed = runSpeed end end })

local ExtraBox = Tabs.Player:AddLeftGroupbox("[üß±] ‡πÇ‡∏ã‡∏ô‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏≥‡πÅ‡∏û‡∏á")

ExtraBox:AddButton({ Text = "üëª ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô [ .‡∏Å‡∏î‡∏ï‡∏±‡∏ß X. ]", Func = toggleInvisibility })

local noclipToggle = ExtraBox:AddToggle("NoclipToggle", { Text = "üß± ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏Å‡∏≤‡∏£‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏≥‡πÅ‡∏û‡∏á", Default = false })
noclipToggle:OnChanged(function(val) noclipEnabled = val end)

local infJumpToggle = ExtraBox:AddToggle("InfJumpToggle", { Text = "ü¶ò ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î", Default = false })
infJumpToggle:OnChanged(function(val) infJumpEnabled = val end)

-- === Tab: ‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡∏Ñ‡∏ô ===
local FriendBox = Tabs.Friends:AddLeftGroupbox("[üë•] ‡πÇ‡∏ã‡∏ô ‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô")

FriendBox:AddButton({ Text = "[ üì± ] ‡∏Å‡∏î ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏ß‡∏≤‡∏õ", Func = function() loadstring(game:HttpGet("https://pastebin.com/raw/8SzsWBUt"))() end })

local playerList = {}
for _, p in pairs(Players:GetPlayers()) do
    if p ~= LocalPlayer then
        table.insert(playerList, p.DisplayName.." ("..p.Name..")")
    end
end

local friendDropdown = FriendBox:AddDropdown("FriendSelect", { Text = "üë• ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", Values = playerList, Default = 1 })

FriendBox:AddButton({
    Text = "üìå ‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
    Func = function()
        local selected = friendDropdown.Value
        if not selected then
            Library:Notify({ Title = "‚ùå Error", Content = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô!", Duration = 3 })
            return
        end
        local friendName = selected:match("%((.-)%)") or selected
        local targetPlayer = Players:FindFirstChild(friendName)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
            Library:Notify({ Title = "‚úÖ ‡∏ß‡∏≤‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", Content = "‡πÑ‡∏õ‡∏´‡∏≤ "..friendName, Duration = 3 })
        else
            Library:Notify({ Title = "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö", Content = "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå", Duration = 3 })
        end
    end
})

FriendBox:AddButton({
    Text = "üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠",
    Func = function()
        playerList = {}
        for _, p in pairs(Players:GetPlayers()) do
            if p ~= LocalPlayer then
                table.insert(playerList, p.DisplayName.." ("..p.Name..")")
            end
        end
        friendDropdown:Refresh(playerList)
        Library:Notify({ Title = "üîÑ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß", Content = "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!", Duration = 3 })
    end
})

-- ‡∏•‡∏≤‡∏Å‡∏®‡∏û
local DragOffset = 5
local DragDelay = 0.2

local DragBox = Tabs.Friends:AddLeftGroupbox("[üå≤] ‡πÇ‡∏ã‡∏ô‡∏•‡∏≤‡∏Å‡∏®‡∏û")

DragBox:AddSlider("DragOffset", { Text = "üìè ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏•‡∏≤‡∏Å‡∏®‡∏û", Min = 1, Max = 15, Default = 5, Suffix = " ‡∏´‡∏ô‡πà‡∏ß‡∏¢" })
DragBox:AddSlider("DragOffset", { Callback = function(val) DragOffset = val end })

DragBox:AddSlider("DragDelay", { Text = "üìè ‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏•‡∏≤‡∏Å‡∏®‡∏û", Min = 0.05, Max = 1, Default = 0.2, Increment = 0.05, Suffix = " ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ" })
DragBox:AddSlider("DragDelay", { Callback = function(val) DragDelay = val end })

DragBox:AddButton({
    Text = "‚öîÔ∏è ‡∏•‡∏≤‡∏Å‡∏®‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
    Func = function()
        local selected = friendDropdown.Value
        if not selected then
            Library:Notify({ Title = "‚ùå ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", Content = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô!", Duration = 3 })
            return
        end
        local displayName = selected:match("^(.+) %(") or selected
        local itemsFolder = Workspace:WaitForChild("Characters", 10)
        local remoteEvents = ReplicatedStorage:WaitForChild("RemoteEvents", 10)
        if not itemsFolder or not remoteEvents then
            Library:Notify({ Title = "‚ùå ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", Content = "‡πÑ‡∏°‡πà‡∏û‡∏ö Characters ‡∏´‡∏£‡∏∑‡∏≠ RemoteEvents", Duration = 5 })
            return
        end
        local startDragging = remoteEvents:WaitForChild("RequestStartDraggingItem", 5)
        local stopDragging = remoteEvents:WaitForChild("StopDraggingItem", 5)
        if not startDragging or not stopDragging then
            Library:Notify({ Title = "‚ùå ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", Content = "‡πÑ‡∏°‡πà‡∏û‡∏ö RemoteEvent ‡∏•‡∏≤‡∏Å‡∏®‡∏û", Duration = 5 })
            return
        end

        local targetName = displayName .. " Body"
        local bodies = {}
        for _, obj in pairs(itemsFolder:GetChildren()) do
            if obj.Name == targetName then
                table.insert(bodies, obj)
            end
        end

        if #bodies == 0 then
            Library:Notify({ Title = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏®‡∏û", Content = "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏®‡∏û‡∏ä‡∏∑‡πà‡∏≠ \""..targetName.."\"", Duration = 4 })
            return
        end

        Library:Notify({ Title = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏≤‡∏Å‡∏®‡∏û", Content = "‡∏û‡∏ö "..#bodies.." ‡∏ï‡∏±‡∏ß", Duration = 3 })

        task.spawn(function()
            for _, body in ipairs(bodies) do
                local clone = cloneref and cloneref(body) or body
                startDragging:FireServer(clone)
                task.wait(0.02)
                if body.PrimaryPart then
                    body:PivotTo(HumanoidRootPart.CFrame * CFrame.new(0, 0, -DragOffset))
                end
                task.wait(0.05)
                stopDragging:FireServer(clone)
                task.wait(DragDelay)
            end
            Library:Notify({ Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!", Content = "‡∏•‡∏≤‡∏Å‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î "..#bodies.." ‡∏ï‡∏±‡∏ß!", Duration = 4 })
        end)
    end
})

-- ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
SaveManager:LoadAutoloadConfig()
