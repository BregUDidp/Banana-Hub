local Section = avatarTab:Section({ 
    Title = "               { [ - Flame Head Rainbow - ] }",
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

--// Variables
local CustomFire = nil
local rainbowConnection = nil
local FireEnabled = false

local currentHue = 0
local rainbowSpeed = 0.2  -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏£‡∏∏‡πâ‡∏á (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
local useRainbow = true   -- ‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡∏£‡∏∏‡πâ‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏µ‡∏à‡∏≤‡∏Å ColorPicker
local fixedColor = Color3.fromRGB(138, 43, 179)  -- ‡∏™‡∏µ‡∏™‡∏≥‡∏£‡∏≠‡∏á

--// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á/‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÑ‡∏ü
local function CreateRainbowFire()
    local character = LocalPlayer.Character
    if not character then return end
    
    local Head = character:FindFirstChild("Head") or character:WaitForChild("Head", 5)
    if not Head then return end

    -- ‡∏•‡∏ö‡πÑ‡∏ü‡πÄ‡∏Å‡πà‡∏≤
    if Head:FindFirstChild("RainbowHeadFire") then
        Head.RainbowHeadFire:Destroy()
    end
    if rainbowConnection then
        rainbowConnection:Disconnect()
        rainbowConnection = nil
    end

    -- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡πÉ‡∏´‡∏°‡πà
    CustomFire = Instance.new("Fire")
    CustomFire.Name = "RainbowHeadFire"
    CustomFire.Size = 5
    CustomFire.Heat = 12
    CustomFire.Enabled = true
    CustomFire.Parent = Head

    -- ‡∏•‡∏π‡∏õ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ
    rainbowConnection = RunService.Heartbeat:Connect(function(dt)
        if not CustomFire or not CustomFire.Parent or not FireEnabled then
            if rainbowConnection then rainbowConnection:Disconnect() end
            return
        end

        if useRainbow then
            currentHue = (currentHue + dt * rainbowSpeed) % 1
            local color = Color3.fromHSV(currentHue, 1, 1)
            CustomFire.Color = color
            CustomFire.SecondaryColor = color
        else
            CustomFire.Color = fixedColor
            CustomFire.SecondaryColor = fixedColor
        end
    end)
end

--// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î
local function SetFireState(state)
    FireEnabled = state
    if state then
        CreateRainbowFire()
    else
        if CustomFire then CustomFire:Destroy() end
        if rainbowConnection then rainbowConnection:Disconnect() end
        CustomFire = nil
        rainbowConnection = nil
    end
end

--// ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà
LocalPlayer.CharacterAdded:Connect(function()
    task.wait(2)
    if FireEnabled then
        CreateRainbowFire()
    end
end)

local Toggle = avatarTab:Toggle({
    Title = "[ üåà ]  Rainbow Flame Head",
    Desc = "[ - Flame Head Rainbow - ]",
    Icon = "flame",
    Type = "Checkbox",
    Value = false, -- default value
    Callback = function(value) 
        SetFireState(value)
    end
})

local Slider = avatarTab:Slider({
    Title = "[ üìè ]  Slider Flame",
    Desc = "[ - Slider Flame Size - ]",
    Step = 1,
    Value = {
        Min = 1,
        Max = 5000,
        Default = 5,
    },
    Callback = function(value)
        CustomFire.Size = value
    end
})

local Slider = avatarTab:Slider({
    Title = "[ üìè ]  Slider Heats",
    Desc = "[ - Slider Size Heats - ]",
    Step = 1,
    Value = {
        Min = 1,
        Max = 5000,
        Default = 12,
    },
    Callback = function(value)
        CustomFire.Heat = value
    end
})
